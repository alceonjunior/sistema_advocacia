<div class="parte-form-row d-flex align-items-center gap-2 mb-2 border-bottom pb-2">
    {# Campos ocultos do formset, como o ID e o DELETE, são essenciais #}
    {% for hidden_field in form.hidden_fields %}
        {{ hidden_field }}
    {% endfor %}

    <div class="flex-grow-1">
        {# O campo de seleção do cliente #}
        {{ form.cliente }}
        {% if form.cliente.errors %}
            <div class="invalid-feedback d-block">
                {% for error in form.cliente.errors %}
                    {{ error }}
                {% endfor %}
            </div>
        {% endif %}
    </div>

    {# Este campo fica oculto, pois o tipo é definido pelo botão "Adicionar" #}
    <div style="display:none;">{{ form.tipo_participacao }}</div>

    {# O botão de remover, que acionará a lógica no JavaScript #}
    <button type="button" class="btn btn-sm btn-outline-danger btn-remove-parte" title="Remover Parte">
        <i class="bi bi-trash"></i>
    </button>
</div>