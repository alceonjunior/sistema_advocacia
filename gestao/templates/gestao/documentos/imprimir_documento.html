<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Imprimir: {{ documento.titulo }}</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

    <style>
        /* Estilos para a tela (não impressão) */
        body {
            background-color: #f0f2f5;
        }
        .page-container {
            max-width: 21cm; /* Largura de uma A4 */
            margin: 2rem auto;
            background: white;
            padding: 2cm; /* Margens de uma A4 */
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        .print-controls {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
        }

        /* Estilos específicos para impressão */
        @media print {
            body { background-color: white; }
            .print-controls, .page-container {
                box-shadow: none;
                margin: 0;
                max-width: 100%;
            }

            @page {
                size: A4;
                margin: 2cm;
                @bottom-right {
                    content: "Página " counter(page) " de " counter(pages);
                    font-size: 9pt;
                    color: #6c757d;
                }
            }

            thead { display: table-header-group; }
            tfoot { display: table-footer-group; }
            p, img, blockquote, table, figure { page-break-inside: avoid; }
        }
    </style>
</head>
<body>

    <div class="print-controls">
        <button onclick="window.print();" class="btn btn-primary shadow-sm">
            <i class="bi bi-printer-fill me-2"></i>Imprimir Documento
        </button>
         <a href="{% url 'gestao:detalhe_processo' pk=documento.processo.pk %}" class="btn btn-secondary shadow-sm">
            <i class="bi bi-arrow-left"></i> Voltar
        </a>
    </div>

    <div class="page-container">
        <table style="width: 100%; border-collapse: collapse;">
            <thead>
                <tr>
                    <td>
                        {% if documento.modelo_origem.cabecalho %}
                            {{ documento.modelo_origem.cabecalho|safe }}
                        {% endif %}
                    </td>
                </tr>
            </thead>

            <tfoot>
                <tr>
                    <td>
                        {% if documento.modelo_origem.rodape %}
                            {{ documento.modelo_origem.rodape|safe }}
                        {% endif %}
                    </td>
                </tr>
            </tfoot>

            <tbody>
                <tr>
                    <td>
                        {{ documento.conteudo|safe }}
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

</body>
</html>